@page "/add"
@using BlazorApp2.Shared;
@inject HttpClient Http
@inject NavigationManager Navigation

<h3>Add Contact</h3>

<EditForm Model="@_contact" OnValidSubmit="Post">
    <div class="form-group">
        <label>Name Contact: </label>
        <InputTextArea @bind-Value="_contact.name" />
    </div>
    <div class="form-group">
        <label>Phone Contact</label>
        <InputTextArea @bind-Value="_contact.phone"/>
    </div>
    <div class="form-group">
        <label>Cellphone Contact</label>
        <InputTextArea @bind-Value="_contact.cellPhone"/>
    </div>
    <div class="form-group">
        <input type="submit" class="btn btn-success" value="Add Contact" />
    </div>
</EditForm>

@code
{
    private Contact _contact = new();
    private async Task Post()
    {
        await Http.PostAsJsonAsync<Contact>("/api/Contact", _contact);
        Navigation.NavigateTo($"/listContact");
    }
}